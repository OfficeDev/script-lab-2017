@import 'vars';
@import 'mixins';

@mixin theme($accent-background-primary) {
    $accent-foreground-primary: lighten($accent-background-primary, 60%);

    profile,
    about {
        .ms-Dialog {
            border-top: solid 10px $accent-background-primary;
        }
    }

    main {
        &.Light {
            background-color: #FFFFFE;

            .viewport__placeholder {
                background-color: #FFFFFE;
            }
        }

        &.Dark {
            background-color:#1e1e1e;

            .viewport__placeholder {
                background-color: #1e1e1e;
            }
        }
    }

    .profile {
        &__primary-text {
            color: $accent-background-primary
        }
    }

    import {
         .ms-Pivot-link.is-selected:before {
            display: none !important;
        }

        .ms-Pivot.ms-Pivot--tabs {
            background: $accent-background-primary;
        }

        .ms-Pivot.ms-Pivot--tabs .ms-Pivot-link {
            background: $accent-background-primary;
        }
    }

    .import {
        &__field .ms-Label {
            color: $accent-background-primary;
        }
    }

    .command {
        &__bar {
            background: $accent-background-primary;
        }

        &__title {
            color: $accent-foreground-primary;
        }

        &__dropdown {
            background: $background-light;

            .command__icon {
                color: $foreground-light;

                @include focus-states($accent-background-primary, $accent-foreground-primary);

                &:hover {
                    background: darken($accent-background-primary, 10%) ;
                    color: $accent-foreground-primary ;
                }

                &:active,
                &:focus {
                    background: darken($accent-background-primary, 15%) ;
                    color: $accent-foreground-primary ;
                }
            }
        }

        &__text,
        &__icon {
            color: $accent-foreground-primary;

            @include focus-states($accent-background-primary, $accent-foreground-primary);

            &:hover {
                background: darken($accent-background-primary, 10%) ;
                color: $accent-foreground-primary ;
            }

            &:active,
            &:focus {
                background: darken($accent-background-primary, 15%) ;
                color: $accent-foreground-primary ;
            }
        }

        &--light {
            &.command__bar {
                background: $background-light;
            }

            .command__icon,
            .command__text,
            .command__title {
                color: $foreground-light;
            }

            .command__icon {
                @include focus-states($accent-background-primary, $accent-foreground-primary);

                &:hover {
                    background: darken($accent-background-primary, 10%) ;
                    color: $accent-foreground-primary ;
                }

                &:active,
                &:focus {
                    background: darken($accent-background-primary, 15%) ;
                    color: $accent-foreground-primary ;
                }
            }
        }
    }

    .editor {
        &__footer {
            .command__text {
                .ms-Icon--Emoji2 {
                    color: $accent-background-primary;
                }
            }
        }
    }

    .ms-Pivot-link.is-selected:before {
        background-color: $accent-foreground-primary;
    }

    .ms-Dialog-main {
        .ms-Dialog-header {
            .ms-Dialog-title {
                background-color: $accent-background-primary;
                color: $accent-foreground-primary ;
            }
        }

        .ms-Button.ms-Dialog-action:first-child {
            background-color: $accent-background-primary;
            border: $accent-background-primary ;

            i {
                color: $accent-foreground-primary ;
            }

            .ms-Button-label {
                color: $accent-foreground-primary ;
            }

            @include focus-states(darken($accent-background-primary, 10%), $accent-foreground-primary);
        }
    }

    .panel {
        background: $background-white;
        color: $foreground-primary;

        &__title {
            color: $accent-background-primary
        }

        &::before {
            color: $foreground-white;
        }
    }

    .editor {
        &__header {
            background: $accent-background-primary;
        }

        &__footer {
            background-color: $accent-background-primary;
            color: $accent-foreground-primary;
        }
    }

    .gallery {
        &__action {
            h1.ms-Button-label {
                color: $accent-background-primary;
            }

            @include focus-states($accent-background-primary, $accent-foreground-primary);

            &:hover,
            &:focus {
                background-color: $accent-background-primary !important;

                .ms-Button-description,
                .ms-Button-label {
                    color: $accent-foreground-primary !important;
                }
            }
        }

        &__section-title {
            color: $accent-background-primary;
        }

        &-list {
            &__action {
                @include focus-states($accent-background-primary, $accent-foreground-primary);
            }

            &__item--selected {
                background: darken($accent-background-primary, 10%);
                color: $accent-foreground-primary;

                i {
                    @include focus-states(darken($accent-background-primary, 15%), $accent-foreground-primary);
                }
            }

            &__item:active, &__item:hover {
                background: $accent-background-primary;

                i {
                    @include focus-states(darken($accent-background-primary, 10%), $accent-foreground-primary);
                }
            }


            &__action:active, &__action:hover {
                background: darken($accent-background-primary, 15%);
                color: $accent-foreground-primary;
            }
        }
    }

    .ms-Pivot.ms-Pivot--tabs {
        background-color: darken($accent-background-primary, 15%);

        & .ms-Pivot-link {
            background: darken($accent-background-primary, 15%);
            color: white !important;
        }

        & .ms-Pivot-link:active,
        & .ms-Pivot-link:hover {
            background: darken($accent-background-primary, 20%);
            color: white !important;
        }
    }

    .share__header {
        background-color: $accent-background-primary;
    }

    .share__main a {
        color: $accent-background-primary
    }

    .share__main .pre-share .ms-Button {
        background: $accent-background-primary;
    }

    .share__main .post-share .info-panel .link-or-id {
        color: $accent-background-primary;
    }

    li.gallery__tab.ms-Pivot-link.is-selected.gallery__tab--active,
    li.tabs__tab.ms-Pivot-link.is-selected.tabs__tab--active {
        background-color: darken($accent-background-primary, 15%) ;
        color: $accent-foreground-primary ;
    }

    .view {
        &__header {
            background-color: $accent-background-primary;
        }
    }

    .view-bar {
        &__command {
            @include focus-states($accent-background-primary, $accent-foreground-primary)
        }
    }

    .view-bar__command:active,
    .view-bar__command:hover,
    .view-bar__command i:active,
    .view-bar__command i:hover {
        background: darken($accent-background-primary, 15%) ;
        color: $accent-foreground-primary ;
        /* different browsers use different terms for pointer vs. hand, so include both*/
    }
}